<!DOCTYPE html>
<html lang="ru" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ config.meta.title }}</title>
    <meta name="description" content="{{ config.meta.description }}">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,400&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <!-- AOS Animation Library -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    
    <!-- Yandex Maps API -->
    <script src="https://api-maps.yandex.ru/2.1/?apikey=your-api-key&lang=ru_RU"></script>
    
    <!-- Styles -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <!-- Theme Toggle -->
    <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
        <span class="icon-sun">‚òÄÔ∏è</span>
        <span class="icon-moon">üåô</span>
    </button>

    <!-- Header & Hero -->
    <header class="hero" id="home">
        <div class="hero-overlay"></div>
        <div class="hero-content" data-aos="fade-up" data-aos-duration="1200">
            <p class="hero-subtitle">–ü—Ä–∏–≥–ª–∞—à–∞–µ–º –≤–∞—Å –Ω–∞ –Ω–∞—à—É —Å–≤–∞–¥—å–±—É</p>
            <h1 class="hero-title">
                <span class="name">{{ config.couple.groom }}</span>
                <span class="ampersand">&</span>
                <span class="name">{{ config.couple.bride }}</span>
            </h1>
            <p class="hero-date">{{ config.event.date_display }}</p>
            
            <!-- Countdown Timer -->
            <div class="countdown" id="countdown">
                <div class="countdown-item">
                    <span class="countdown-value" id="days">00</span>
                    <span class="countdown-label">–¥–Ω–µ–π</span>
                </div>
                <div class="countdown-item">
                    <span class="countdown-value" id="hours">00</span>
                    <span class="countdown-label">—á–∞—Å–æ–≤</span>
                </div>
                <div class="countdown-item">
                    <span class="countdown-value" id="minutes">00</span>
                    <span class="countdown-label">–º–∏–Ω—É—Ç</span>
                </div>
                <div class="countdown-item">
                    <span class="countdown-value" id="seconds">00</span>
                    <span class="countdown-label">—Å–µ–∫—É–Ω–¥</span>
                </div>
            </div>
            
            <a href="#rsvp" class="btn btn-primary hero-cta">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —É—á–∞—Å—Ç–∏–µ</a>
        </div>
        
        <div class="scroll-indicator">
            <span></span>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="nav" id="nav">
        <div class="nav-container">
            <a href="#home" class="nav-logo">{{ config.couple.groom[0] }} & {{ config.couple.bride[0] }}</a>
            <button class="nav-toggle" id="navToggle" aria-label="Menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-menu" id="navMenu">
                <li><a href="#story">–ù–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è</a></li>
                <li><a href="#timeline">–ü—Ä–æ–≥—Ä–∞–º–º–∞</a></li>
                <li><a href="#location">–ú–µ—Å—Ç–æ</a></li>
                <li><a href="#faq">FAQ</a></li>
                <li><a href="#rsvp">–ê–Ω–∫–µ—Ç–∞</a></li>
            </ul>
        </div>
    </nav>

    <!-- Story Section -->
    <section class="section story" id="story">
        <div class="container">
            <div class="story-content" data-aos="fade-up">
                <h2 class="section-title">{{ config.story.title }}</h2>
                <div class="section-divider">
                    <span>üíï</span>
                </div>
                
                <!-- Image Slider -->
                <div class="story-slider" data-aos="fade-up">
                    <div class="slider-container">
                        <div class="slider-track" id="sliderTrack">
                            <!-- Images will be loaded dynamically -->
                        </div>
                    </div>
                    <button class="slider-btn slider-btn-prev" id="sliderPrev" aria-label="Previous">
                        <span>‚ùÆ</span>
                    </button>
                    <button class="slider-btn slider-btn-next" id="sliderNext" aria-label="Next">
                        <span>‚ùØ</span>
                    </button>
                    <div class="slider-dots" id="sliderDots"></div>
                </div>
                
                <p class="story-text">{{ config.story.text }}</p>
            </div>
        </div>
    </section>

    <!-- Timeline Section -->
    <section class="section timeline" id="timeline">
        <div class="container">
            <h2 class="section-title" data-aos="fade-up">–ü—Ä–æ–≥—Ä–∞–º–º–∞ –¥–Ω—è</h2>
            <div class="section-divider" data-aos="fade-up">
                <span>üìÖ</span>
            </div>
            
            <!-- Day Tabs -->
            <div class="timeline-tabs" data-aos="fade-up">
                <button class="timeline-tab active" data-day="1">
                    <span class="tab-icon">üéä</span>
                    <span class="tab-text">–î–µ–Ω—å 1</span>
                    <span class="tab-date">8 –∞–≤–≥—É—Å—Ç–∞</span>
                </button>
                <button class="timeline-tab" data-day="2">
                    <span class="tab-icon">üåø</span>
                    <span class="tab-text">–î–µ–Ω—å 2</span>
                    <span class="tab-date">9 –∞–≤–≥—É—Å—Ç–∞</span>
                </button>
            </div>
            
            <!-- Day 1 Timeline -->
            <div class="timeline-content active" id="timeline-day-1">
                <h3 class="timeline-day-title" data-aos="fade-up">{{ config.event.timeline_day1.title }}</h3>
                <div class="timeline-items">
                    {% for item in config.event.timeline_day1.events %}
                    <div class="timeline-item" data-aos="fade-up" data-aos-delay="{{ loop.index * 100 }}">
                        <div class="timeline-icon">{{ item.icon }}</div>
                        <div class="timeline-time">{{ item.time }}</div>
                        <div class="timeline-info">
                            <h3>{{ item.title }}</h3>
                            <p>{{ item.description }}</p>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
            
            <!-- Day 2 Timeline -->
            <div class="timeline-content" id="timeline-day-2">
                <h3 class="timeline-day-title" data-aos="fade-up">{{ config.event.timeline_day2.title }}</h3>
                <div class="timeline-items">
                    {% for item in config.event.timeline_day2.events %}
                    <div class="timeline-item" data-aos="fade-up" data-aos-delay="{{ loop.index * 100 }}">
                        <div class="timeline-icon">{{ item.icon }}</div>
                        <div class="timeline-time">{{ item.time }}</div>
                        <div class="timeline-info">
                            <h3>{{ item.title }}</h3>
                            <p>{{ item.description }}</p>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
            
            <p class="timeline-note" data-aos="fade-up">
                ‚ö†Ô∏è {{ config.event.ceremony_note }}
            </p>
        </div>
    </section>
    <!-- <section class="section timeline" id="timeline">
        <h2 class="section-title" data-aos="fade-up">–ü—Ä–æ–≥—Ä–∞–º–º–∞ –¥–Ω—è</h2>
        <div class="container" style="display:flex; justify-content:center; align-items:center; flex-direction:column; min-height:160px; text-align:center;">
            <h3>Will be soon!</h3>
        </div>
    </section> -->



    <!-- Location Section -->
    <section class="section location" id="location">
        <div class="container">
            <h2 class="section-title" data-aos="fade-up">–ú–µ—Å—Ç–æ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è</h2>
            <div class="section-divider" data-aos="fade-up">
                <span>üìç</span>
            </div>
            
            <div class="location-content">
                <div class="location-info" data-aos="fade-right">
                    <h3 class="location-name">{{ config.location.name }}</h3>
                    <p class="location-address">{{ config.location.address }}</p>
                    
                    <!-- Location Cards -->
                    <div class="location-cards">
                        <div class="location-card" data-location="day1_venue" data-lat="{{ config.locations.day1_venue.coordinates.lat }}" data-lng="{{ config.locations.day1_venue.coordinates.lng }}">
                            <span class="location-card-icon">üéä</span>
                            <div class="location-card-info">
                                <strong>–î–µ–Ω—å 1</strong>
                                <span>{{ config.locations.day1_venue.name }}</span>
                            </div>
                            <span class="location-card-arrow">‚Üí</span>
                        </div>
                        <div class="location-card" data-location="day2_venue" data-lat="{{ config.locations.day2_venue.coordinates.lat }}" data-lng="{{ config.locations.day2_venue.coordinates.lng }}">
                            <span class="location-card-icon">üåø</span>
                            <div class="location-card-info">
                                <strong>–î–µ–Ω—å 2</strong>
                                <span>{{ config.locations.day2_venue.name }}</span>
                            </div>
                            <span class="location-card-arrow">‚Üí</span>
                        </div>
                        <div class="location-card" data-location="airport" data-lat="{{ config.locations.airport.coordinates.lat }}" data-lng="{{ config.locations.airport.coordinates.lng }}">
                            <span class="location-card-icon">‚úàÔ∏è</span>
                            <div class="location-card-info">
                                <strong>–ê—ç—Ä–æ–ø–æ—Ä—Ç</strong>
                                <span>{{ config.locations.airport.name }}</span>
                            </div>
                            <span class="location-card-arrow">‚Üí</span>
                        </div>
                        <div class="location-card" data-location="railway" data-lat="{{ config.locations.railway.coordinates.lat }}" data-lng="{{ config.locations.railway.coordinates.lng }}">
                            <span class="location-card-icon">üöÇ</span>
                            <div class="location-card-info">
                                <strong>–ñ–î –≤–æ–∫–∑–∞–ª</strong>
                                <span>{{ config.locations.railway.name }}</span>
                            </div>
                            <span class="location-card-arrow">‚Üí</span>
                        </div>
                    </div>
                    
                    <div class="location-actions">
                        <a href="https://yandex.ru/maps/?pt={{ config.locations.day1_venue.coordinates.lng }},{{ config.locations.day1_venue.coordinates.lat }}&z=14&l=map" target="_blank" class="btn btn-outline">
                            –û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ä—Ç—É
                        </a>
                        <!-- Hidden: airplane and train buttons (can be restored if needed)
                        <a href="https://www.aviasales.ru" target="_blank" class="btn btn-outline">
                            ‚úàÔ∏è –ê–≤–∏–∞–±–∏–ª–µ—Ç—ã
                        </a>
                        <a href="https://www.rzd.ru" target="_blank" class="btn btn-outline">
                            üöÇ –†–ñ–î
                        </a>
                        -->
                    </div>
                </div>
                
                <div class="location-map" data-aos="fade-left">
                    <div id="yandexMap" style="width: 100%; height: 450px;"></div>
                    
                    <!-- Map Legend -->
                    <div class="map-legend">
                        <div class="legend-item" data-location="city">
                            <span class="legend-color" style="background: #1e98ff;"></span>
                            <span>–≥. –ì–∞–π</span>
                        </div>
                        <div class="legend-item" data-location="day1_venue">
                            <span class="legend-color" style="background: #ff4433;"></span>
                            <span>–î–µ–Ω—å 1</span>
                        </div>
                        <div class="legend-item" data-location="day2_venue">
                            <span class="legend-color" style="background: #56db40;"></span>
                            <span>–î–µ–Ω—å 2</span>
                        </div>
                        <div class="legend-item" data-location="airport">
                            <span class="legend-color" style="background: #ffb833;"></span>
                            <span>–ê—ç—Ä–æ–ø–æ—Ä—Ç</span>
                        </div>
                        <div class="legend-item" data-location="railway">
                            <span class="legend-color" style="background: #b832fc;"></span>
                            <span>–ñ–î –≤–æ–∫–∑–∞–ª</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Dresscode Section -->
    <section class="section dresscode" id="dresscode">
        <div class="container">
            <div class="dresscode-content" data-aos="fade-up">
                <h2 class="section-title">{{ config.dresscode.title }}</h2>
                <div class="section-divider">
                    <span>üëó</span>
                </div>
                <p class="dresscode-text">{{ config.dresscode.text }}</p>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="section faq" id="faq">
        <div class="container">
            <h2 class="section-title" data-aos="fade-up">–ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã</h2>
            <div class="section-divider" data-aos="fade-up">
                <span>‚ùì</span>
            </div>
            
            <div class="faq-list">
                {% for item in config.faq %}
                <div class="faq-item" data-aos="fade-up" data-aos-delay="{{ loop.index * 50 }}">
                    <button class="faq-question">
                        {{ item.question }}
                        <span class="faq-icon">+</span>
                    </button>
                    <div class="faq-answer">
                        <p>{{ item.answer }}</p>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- RSVP Section -->
    <section class="section rsvp" id="rsvp">
        <div class="container">
            <h2 class="section-title" data-aos="fade-up">üëâ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —É—á–∞—Å—Ç–∏–µ üëà</h2>
            <div class="section-divider" data-aos="fade-up">
                <span>üíå</span>
            </div>
            
            <form class="rsvp-form" id="rsvpForm" data-aos="fade-up">
                <div class="form-row">
                    <div class="form-group">
                        <label for="firstName">–ò–º—è *</label>
                        <input type="text" id="firstName" name="first_name" required>
                    </div>
                    <div class="form-group">
                        <label for="lastName">–§–∞–º–∏–ª–∏—è *</label>
                        <input type="text" id="lastName" name="last_name" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="phone">–¢–µ–ª–µ—Ñ–æ–Ω *</label>
                        <input type="text" id="phone" name="phone" required placeholder="+7 (999) 123-45-67">
                    </div>
                    <div class="form-group">
                        <label for="telegram">Telegram *</label>
                        <input type="text" id="telegram" name="telegram" required placeholder="@username –∏–ª–∏ –Ω–æ–º–µ—Ä">
                    </div>
                </div>
                
                <div class="form-group">
                    <label>–í—ã –ø—Ä–∏–¥—ë—Ç–µ? *</label>
                    <div class="radio-group">
                        <label class="radio-label">
                            <input type="radio" name="attending" value="yes" required>
                            <span class="radio-custom"></span>
                            ‚úÖ –ë—É–¥—É —Å —Ä–∞–¥–æ—Å—Ç—å—é!
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="attending" value="no">
                            <span class="radio-custom"></span>
                            ‚ùå –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –Ω–µ —Å–º–æ–≥—É
                        </label>
                    </div>
                </div>
                
                <div class="form-group conditional-fields" id="conditionalFields">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="guestsCount">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Å—Ç–µ–π (–≤–∫–ª—é—á–∞—è –≤–∞—Å)</label>
                            <select id="guestsCount" name="guests_count">
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5+</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="children">–î–µ—Ç–∏ (–∏–º–µ–Ω–∞ –∏ –≤–æ–∑—Ä–∞—Å—Ç)</label>
                            <input type="text" id="children" name="children" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ú–∞—à–∞ (5 –ª–µ—Ç)">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="foodPreferences">–ü–æ–∂–µ–ª–∞–Ω–∏—è –ø–æ –µ–¥–µ (–∞–ª–ª–µ—Ä–≥–∏–∏, –≤–µ–≥–∞–Ω—Å—Ç–≤–æ)</label>
                        <textarea id="foodPreferences" name="food_preferences" rows="3" placeholder="–£–∫–∞–∂–∏—Ç–µ, –µ—Å–ª–∏ –µ—Å—Ç—å –æ—Å–æ–±—ã–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è"></textarea>
                    </div>
                </div>
                
                <button type="submit" class="btn btn-primary btn-block">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            </form>
        </div>
    </section>

    <!-- Questions Section -->
    <section class="section questions" id="questions">
        <div class="container">
            <h2 class="section-title" data-aos="fade-up">ü§î –û—Å—Ç–∞–ª–∏—Å—å –≤–æ–ø—Ä–æ—Å—ã?</h2>
            <div class="section-divider" data-aos="fade-up">
                <span>üí¨</span>
            </div>
            
            <form class="question-form" id="questionForm" data-aos="fade-up">
                <div class="form-row">
                    <div class="form-group">
                        <label for="qName">–í–∞—à–µ –∏–º—è</label>
                        <input type="text" id="qName" name="name">
                    </div>
                    <div class="form-group">
                        <label for="qContact">–ö–æ–Ω—Ç–∞–∫—Ç –¥–ª—è –æ—Ç–≤–µ—Ç–∞</label>
                        <input type="text" id="qContact" name="contact" placeholder="Telegram –∏–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω">
                    </div>
                </div>
                <div class="form-group">
                    <label for="question">–í–∞—à –≤–æ–ø—Ä–æ—Å *</label>
                    <textarea id="question" name="question" rows="4" required placeholder="–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å..."></textarea>
                </div>
                <button type="submit" class="btn btn-outline btn-block">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å</button>
            </form>
        </div>
    </section>

    <!-- Gallery Section (for future photos) -->
    <section class="section gallery" id="gallery" style="display: none;">
        <div class="container">
            <h2 class="section-title" data-aos="fade-up">–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏</h2>
            <div class="section-divider" data-aos="fade-up">
                <span>üì∏</span>
            </div>
            <div class="gallery-grid" id="galleryGrid">
                <!-- Photos will be loaded dynamically -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    {{ config.couple.groom }} & {{ config.couple.bride }}
                </div>
                <p class="footer-date">{{ config.event.date_display }}</p>
                
                <div class="footer-contacts">
                    <p>–û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä: {{ config.contacts.organizer_name }}</p>
                    <p>{{ config.contacts.organizer_phone }}</p>
                    <a href="https://t.me/{{ config.contacts.telegram[1:] }}" target="_blank">{{ config.contacts.telegram }}</a>
                </div>
                
                {% if config.contacts.telegram_channel %}
                <a href="{{ config.contacts.telegram_channel }}" target="_blank" class="btn btn-outline btn-sm">
                    Telegram-–∫–∞–Ω–∞–ª —Å–≤–∞–¥—å–±—ã
                </a>
                {% endif %}
                
                <p class="footer-hashtag">{{ config.couple.hashtag }}</p>
            </div>
        </div>
    </footer>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <span class="toast-message"></span>
    </div>

    <!-- Scripts -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        const CONFIG = {
            eventDate: "{{ config.event.date }}T15:00:00",
            locations: {
                city: {
                    name: "{{ config.locations.city.name }}",
                    address: "{{ config.locations.city.address }}",
                    lat: {{ config.locations.city.coordinates.lat }},
                    lng: {{ config.locations.city.coordinates.lng }},
                    color: "#1e98ff"
                },
                day1_venue: {
                    name: "{{ config.locations.day1_venue.name }}",
                    address: "{{ config.locations.day1_venue.address }}",
                    lat: {{ config.locations.day1_venue.coordinates.lat }},
                    lng: {{ config.locations.day1_venue.coordinates.lng }},
                    color: "#ff4433"
                },
                day2_venue: {
                    name: "{{ config.locations.day2_venue.name }}",
                    address: "{{ config.locations.day2_venue.address }}",
                    lat: {{ config.locations.day2_venue.coordinates.lat }},
                    lng: {{ config.locations.day2_venue.coordinates.lng }},
                    color: "#56db40"
                },
                airport: {
                    name: "{{ config.locations.airport.name }}",
                    address: "{{ config.locations.airport.address }}",
                    lat: {{ config.locations.airport.coordinates.lat }},
                    lng: {{ config.locations.airport.coordinates.lng }},
                    color: "#ffb833"
                },
                railway: {
                    name: "{{ config.locations.railway.name }}",
                    address: "{{ config.locations.railway.address }}",
                    lat: {{ config.locations.railway.coordinates.lat }},
                    lng: {{ config.locations.railway.coordinates.lng }},
                    color: "#b832fc"
                }
            }
        };
    </script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
